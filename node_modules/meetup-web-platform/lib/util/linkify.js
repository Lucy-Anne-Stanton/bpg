'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = linkify;

var _urlRegex = require('url-regex');

var _urlRegex2 = _interopRequireDefault(_urlRegex);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Generates HTML link tag element with target
 *
 * @method createLink
 * @param {Object} options optional modifiers
 * @param {String} href string of link passed through options
 * @return {String} The HTML link tag
 */
var createLink = function createLink(options) {
  return function (href) {
    var target = options.target || '';
    var targetAttr = 'target="' + target + '"';
    var relAttr = target === '_blank' ? 'rel="noopener noreferrer"' : '';

    return '<a href="' + href + '" title="' + href + '" ' + targetAttr + ' ' + relAttr + '>' + href + '</a>';
  };
};

/**
 * Replaces URLs in a block of text with HTML anchor tags.
 *
 * @method linkify
 * @param {String} text The text on which to operate
 * @param {Object} options optional modifiers
 * @return {String} The modified text.
 */
function linkify(text, options) {
  if (!text) {
    return '';
  }

  return text.replace((0, _urlRegex2.default)(), createLink(options || {}));
}